<!DOCTYPE html>
<html>
<head>
    <title>Menu Berhitung</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { background-color: #F4E4BC; text-align: center; font-family: 'Poppins', sans-serif; }
        h1 { font-size: 96px; margin: 30px 0; }
        .button { padding: 50px; font-size: 72px; margin: 30px; background-color: #A3D9A5; color: white; border: none; border-radius: 30px; cursor: pointer; }
        .button:hover { background-color: #8CCB8F; }
        #soal { font-size: 80px; margin: 50px; }
        input { padding: 30px; font-size: 72px; margin: 30px; }
        .home-btn { background-color: #FFD700; padding: 30px; font-size: 60px; border-radius: 20px; cursor: pointer; }
        #notifikasi { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 96px; padding: 40px; border-radius: 20px; display: none; }
        .benar { background-color: #A3D9A5; color: white; animation: fadeInOut 2s; }
        .salah { background-color: #F28C82; color: white; animation: fadeInOut 2s; }
        @keyframes fadeInOut { 0% { opacity: 0; } 20% { opacity: 1; } 80% { opacity: 1; } 100% { opacity: 0; } }
        #level-info { position: absolute; top: 20px; right: 20px; font-size: 48px; color: #333; }
        #menu-pilihan { margin-top: 50px; }
    </style>
</head>
<body>
    <h1>Pilih Berhitung</h1>
    <div id="menu-pilihan">
        <button class="button" onclick="mulaiLevel('penjumlahan')">Penjumlahan</button>
        <button class="button" onclick="mulaiLevel('pengurangan')">Pengurangan</button>
    </div>
    <div id="soal"></div>
    <div id="inputJawaban" style="display: none;">
        <input type="number" id="jawaban" placeholder="Masukkan jawaban">
        <button class="button" onclick="cekJawaban()">Cek Jawaban</button>
    </div>
    <div id="notifikasi"></div>
    <div id="level-info"></div>
    <br>
    <button class="home-btn" onclick="location.href='index.html'">üè† Home</button>
    <script>
        let jawabanBenar, currentLevel = 0, currentSoal = 0, jenisSoal;
        const levels = {
            penjumlahan: [
                Array(10).fill().map(() => ({ a: Math.floor(Math.random() * 5) + 1, b: Math.floor(Math.random() * 5) + 1 })),
                Array(10).fill().map(() => ({ a: Math.floor(Math.random() * 10) + 1, b: Math.floor(Math.random() * 10) + 1 })),
                Array(10).fill().map(() => ({ a: Math.floor(Math.random() * 20) + 1, b: Math.floor(Math.random() * 20) + 1 }))
            ],
            pengurangan: [
                Array(10).fill().map(() => { let a = Math.floor(Math.random() * 5) + 1, b = Math.floor(Math.random() * a) + 1; return { a, b }; }),
                Array(10).fill().map(() => { let a = Math.floor(Math.random() * 10) + 1, b = Math.floor(Math.random() * a) + 1; return { a, b }; }),
                Array(10).fill().map(() => { let a = Math.floor(Math.random() * 20) + 1, b = Math.floor(Math.random() * a) + 1; return { a, b }; })
            ]
        };

        function mulaiLevel(jenis) {
            jenisSoal = jenis;
            currentLevel = 0;
            currentSoal = 0;
            document.getElementById('menu-pilihan').style.display = 'none'; // Hilangkan tombol
            tampilkanSoal();
            document.getElementById('inputJawaban').style.display = 'block';
        }

        function tampilkanSoal() {
            if (currentSoal >= 10) {
                currentLevel++;
                currentSoal = 0;
            }
            if (currentLevel >= 3) {
                alert('Selamat! Kamu telah menyelesaikan semua level!');
                document.getElementById('inputJawaban').style.display = 'none';
                document.getElementById('soal').innerHTML = '';
                document.getElementById('level-info').innerHTML = '';
                document.getElementById('menu-pilihan').style.display = 'block'; // Kembalikan tombol
                return;
            }
            let soal = levels[jenisSoal][currentLevel][currentSoal];
            jawabanBenar = jenisSoal === 'penjumlahan' ? soal.a + soal.b : soal.a - soal.b;
            document.getElementById('soal').innerHTML = `${soal.a} ${jenisSoal === 'penjumlahan' ? '+' : '-'} ${soal.b} = ?`;
            document.getElementById('jawaban').value = '';
            document.getElementById('level-info').innerHTML = `Level ${currentLevel + 1} - Soal ${currentSoal + 1}/10`;
        }

        function cekJawaban() {
            let jawaban = document.getElementById('jawaban').value;
            let notifikasi = document.getElementById('notifikasi');
            if (jawaban == jawabanBenar) {
                notifikasi.innerHTML = 'Benar!';
                notifikasi.className = 'benar';
            } else {
                notifikasi.innerHTML = 'Salah!';
                notifikasi.className = 'salah';
            }
            notifikasi.style.display = 'block';
            setTimeout(() => {
                notifikasi.style.display = 'none';
                currentSoal++;
                tampilkanSoal();
            }, 2000);
        }
    </script>
</body>
</html>
